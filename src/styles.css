/* ========= Design tokens (light/dark) ========= */
:root {
  --bg: #0b0f17;
  --surface: #0f1522;
  --surface-2: #121a2b;
  --text: #eef3ff;
  --muted: #9aa6c3;
  --primary: #4c8dff;
  --primary-600: #3c78e6;
  --ring: rgba(76, 141, 255, 0.45);
  --radius: 14px;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
  --card-grad: radial-gradient(1200px 600px at 10% -10%, rgba(76,141,255,.12), transparent 60%),
               radial-gradient(1000px 500px at 110% 10%, rgba(111,66,193,.10), transparent 55%);

  /* Amount accent (strong, high contrast) */
  --amount-accent: #9fc2ff;                  /* lighter + brighter for dark bg */
  --amount-glow: 0 0 22px rgba(76,141,255,.55);
}
:root[data-theme="light"] {
  --bg: #f7f9fc;
  --surface: #ffffff;
  --surface-2: #f2f5fb;
  --text: #0b1324;
  --muted: #52607a;
  --primary: #3c78e6;
  --primary-600: #2d63c7;
  --ring: rgba(60,120,230,0.35);
  --shadow: 0 10px 26px rgba(27,64,130,.12);
  --card-grad: radial-gradient(1200px 600px at 10% -10%, rgba(60,120,230,.08), transparent 60%),
               radial-gradient(1000px 500px at 110% 10%, rgba(111,66,193,.06), transparent 55%);

  --amount-accent: #1b4fbf;                  /* deeper blue for light */
  --amount-glow: 0 0 0 rgba(0,0,0,0);        /* no glow on light */
}

/* Respect OS preference first-run */
@media (prefers-color-scheme: light) {
  :root:not([data-theme]) { color-scheme: light; }
}
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) { color-scheme: dark; }
}

/* ========= Base ========= */
html, body { height: 100%; }
body {
  background:
    radial-gradient(700px 360px at -10% -10%, rgba(76,141,255,.15), transparent 60%),
    radial-gradient(800px 420px at 110% -10%, rgba(111,66,193,.14), transparent 55%),
    var(--bg);
  color: var(--text);
  font-feature-settings: "ss01" on, "cv01" on;
  letter-spacing: .1px;
}
.container { max-width: 1120px; }

/* ========= Cards / Elevation ========= */
.card {
  background: linear-gradient(0deg, var(--surface), var(--surface)), var(--card-grad);
  border: 1px solid rgba(255,255,255,.06);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}
.card .card-body { padding: 1.1rem 1.2rem; }
.table { color: var(--text); }

/* ========= Buttons & Inputs ========= */
.btn-primary {
  background: linear-gradient(180deg, var(--primary), var(--primary-600));
  border: 0;
  box-shadow: 0 6px 20px var(--ring);
}
.btn-primary:hover { filter: brightness(.98); }
.btn-outline-secondary, .btn-outline-danger, .btn-outline-success, .btn-outline-primary {
  border-radius: 999px;
}
.form-control, .form-select {
  background: var(--surface-2);
  border: 1px solid rgba(255,255,255,.08);
  color: var(--text);
  border-radius: 12px;
  outline: none;
  transition: box-shadow .2s, border-color .2s;
}
.form-control:focus, .form-select:focus {
  border-color: transparent;
  box-shadow: 0 0 0 4px var(--ring);
  background: var(--surface-2);
  color: var(--text);
}
.input-group-text {
  background: var(--surface-2);
  border: 1px solid rgba(255,255,255,.08);
  color: var(--muted);
}

/* ========= Badges / Pills ========= */
.badge { border-radius: 999px; padding: .4rem .6rem; }

/* ========= Table polish ========= */
.table thead th {
  position: sticky; top: 0;
  background: rgba(255,255,255,.04);
  backdrop-filter: blur(3px);
}
.table-hover tbody tr:hover { background: rgba(255,255,255,.03); }
.table-responsive { border-radius: var(--radius); }
.table td, .table th { vertical-align: middle; }

/* ========= Utility ========= */
.text-muted, .text-secondary { color: var(--muted) !important; }
.display-6 { font-weight: 700; letter-spacing: .2px; }

/* High-contrast amount accent */
.amount-strong {
  color: var(--amount-accent) !important;
  text-shadow: var(--amount-glow);
  font-weight: 800;
  letter-spacing: .2px;
}

/* ========= Animations / Skeleton ========= */
.card, .btn, .form-control, .form-select { transition: transform .15s ease, box-shadow .2s ease; }
.card:hover { transform: translateY(-2px); }
.skeleton { background: linear-gradient(90deg, rgba(255,255,255,.05), rgba(255,255,255,.12), rgba(255,255,255,.05)); animation: sk 1.1s infinite; }
@keyframes sk { 0% { background-position: -200px 0; } 100% { background-position: calc(200px + 100%) 0; } }

/* Safety: if an amount ever sits inside a colored badge, keep it readable */
.badge.bg-warning .amount-strong,
.badge.text-bg-warning .amount-strong {
  color: #212529 !important; /* dark text on yellow */
  text-shadow: none;
}
.badge.bg-info .amount-strong,
.badge.text-bg-info .amount-strong,
.badge.bg-success .amount-strong,
.badge.text-bg-success .amount-strong,
.badge.bg-primary .amount-strong,
.badge.text-bg-primary .amount-strong {
  color: #fff !important;     /* white on blue/green */
  text-shadow: none;
}
